var n=function(){function a(t,i){for(var r=0;r<i.length;r++){var a=i[r];a.t=a.t||false;a.i=true;if("value"in a)a.s=true;Object.defineProperty(t,a.key,a)}}return function(t,i,r){if(i)a(t.prototype,i);if(r)a(t,r);return t}}();function j(t,i){if(!(t instanceof i)){throw new TypeError("Cannot call a class as a function")}}var t=function(){function B(t,i,r,a,n,e){j(this,B);this.points=[];this.links=[];this.frame=0;this.dir=1;this.size=r;this.color=Math.round(t);this.h=i;var f=0;var s=true;var h=false;var u=undefined;try{for(var v=e.points[Symbol.iterator](),o;!(s=(o=v.next()).done);s=true){var l=o.value;this.points.push(new A(f++,r*l[0]+a,r*l[1]+n,l[2]))}}catch(g){h=true;u=g}finally{try{if(!s&&v.u){v.u()}}finally{if(h){throw u}}}var c=true;var y=false;var d=undefined;try{for(var w=e.links[Symbol.iterator](),m;!(c=(m=w.next()).done);c=true){var M=m.value;var b=this.points[M[0]];var S=this.points[M[1]];var k=b.x-S.x;var p=b.y-S.y;this.links.push(new z(this,b,S,Math.sqrt(k*k+p*p),M[2]*r/3,M[3],M[4]))}}catch(g){y=true;d=g}finally{try{if(!c&&w.u){w.u()}}finally{if(y){throw d}}}}n(B,[{key:"update",value:function t(){if(++this.frame%20===0)this.dir=-this.dir;if(G&&this===G&&this.size<16&&this.frame>600){G=null;R.push(new B(this.color,this.h*1.25,this.size*2,F.x,F.y-100*this.size*2,O));R.sort(function(t,i){return t.size-i.size})}var t=true;var i=false;var r=undefined;try{for(var a=this.links[Symbol.iterator](),n;!(t=(n=a.next()).done);t=true){var e=n.value;var f=e.v;var s=e.p1;var h=f.x-s.x;var u=f.y-s.y;var v=Math.sqrt(h*h+u*u);if(v){var o=f.w+s.w;var l=s.w/o;var c=f.w/o;var y=(e.o-v)*e.l;h=h/v*y;u=u/v*y;s.x-=h*c;s.y-=u*c;f.x+=h*l;f.y+=u*l}}}catch(q){i=true;r=q}finally{try{if(!t&&a.u){a.u()}}finally{if(i){throw r}}}var d=true;var w=false;var m=undefined;try{for(var M=this.points[Symbol.iterator](),b;!(d=(b=M.next()).done);d=true){var S=b.value;if(this===G&&S===I){S.x+=(F.x-S.x)*.1;S.y+=(F.y-S.y)*.1}if(this!==G){S.m&&S.m(16*Math.sqrt(this.size),this.dir)}S.M=S.x-S.S;S.k=S.y-S.p;S.S=S.x;S.p=S.y;S.M*=.995;S.k*=.995;S.x+=S.M;S.y+=S.k+.01}}catch(q){w=true;m=q}finally{try{if(!d&&M.u){M.u()}}finally{if(w){throw m}}}var k=true;var p=false;var g=undefined;try{for(var j=this.links[Symbol.iterator](),z;!(k=(z=j.next()).done);k=true){var A=z.value;var s=A.p1;if(s.y>E.height*C-A.size*.5){s.y=E.height*C-A.size*.5;s.x-=s.M;s.M=0;s.k=0}if(s.id===1||s.id===2){if(s.x>E.width-A.size)s.x=E.width-A.size;else if(s.x<A.size)s.x=A.size}}}catch(q){p=true;g=q}finally{try{if(!k&&j.u){j.u()}}finally{if(p){throw g}}}}},{key:"draw",value:function i(){var t=true;var i=false;var r=undefined;try{for(var a=this.links[Symbol.iterator](),n;!(t=(n=a.next()).done);t=true){var e=n.value;if(e.size){var f=e.p1.x-e.v.x;var s=e.p1.y-e.v.y;var h=Math.atan2(s,f);var u=Math.sqrt(f*f+s*s);o.save();o.translate(e.v.x+e.size*.25,e.v.y+e.size*.25);o.rotate(h);o.restore();o.save();o.translate(e.v.x,e.v.y);o.rotate(h);o.drawImage(e.g,-e.size*.5,-e.size*.5,u+e.size,e.size);o.restore()}}}catch(v){i=true;r=v}finally{try{if(!t&&a.u){a.u()}}finally{if(i){throw r}}}}}]);return B}();var z=function z(t,i,r,n,e,a,f){j(this,z);function s(t,i){var r=document.createElement("canvas");r.width=n+e;r.height=e;var a=r.getContext("2d");a.beginPath();a.lineCap="round";a.lineWidth=e/60;a.strokeStyle="#f00";a.moveTo(e*.5,e*.5);a.lineTo(e*.5+n,e*.5);a.stroke();return r}this.v=i;this.p1=r;this.o=n;this.size=e;this.h=a||0;this.l=f||.5;this.g=s("hsl("+t.color+" ,100%, "+t.h*this.h+"%)",true);this.j=s("rgba(0,0,0,0.5)")};var A=function A(t,i,r,a,n){j(this,A);this.id=t;this.x=i;this.y=r;this.w=(n||.5)*.01;this.m=a||null;this.S=i;this.p=r;this.M=0;this.k=0};var i=function(){function i(){var t=this;j(this,i);this.A=document.createElement("canvas");this.q=this.A.getContext("2d");document.body.appendChild(this.A);this.resize();window.addEventListener("resize",function(){return t.resize()},false)}n(i,[{key:"resize",value:function t(){this.width=this.A.width=this.A.offsetWidth;this.height=this.A.height=this.A.offsetHeight;C=this.height>500?.85:1}}]);return i}();var r=function(){function r(t){var i=this;j(this,r);this.x=0;this.y=0;this.canvas=t;window.addEventListener("mousemove",function(t){return i.move(t)},false);t.A.addEventListener("touchmove",function(t){return i.move(t)},false);window.addEventListener("mousedown",function(t){return i.B(t)},false);window.addEventListener("touchstart",function(t){return i.B(t)},false);window.addEventListener("mouseup",function(t){return i.C(t)},false);window.addEventListener("touchend",function(t){return i.C(t)},false)}n(r,[{key:"down",value:function t(t){this.move(t);var i=true;var r=false;var a=undefined;try{for(var n=R[Symbol.iterator](),e;!(i=(e=n.next()).done);i=true){var f=e.value;var s=true;var h=false;var u=undefined;try{for(var v=f.points[Symbol.iterator](),o;!(s=(o=v.next()).done);s=true){var l=o.value;var c=F.x-l.x;var y=F.y-l.y;var d=Math.sqrt(c*c+y*y);if(d<60){G=f;I=l;f.frame=0}}}catch(w){h=true;u=w}finally{try{if(!s&&v.u){v.u()}}finally{if(h){throw u}}}}}catch(w){r=true;a=w}finally{try{if(!i&&n.u){n.u()}}finally{if(r){throw a}}}}},{key:"up",value:function i(t){G=null}},{key:"move",value:function a(t){var i=t.targetTouches,r=void 0;if(i){t.preventDefault();r=i[0]}else r=t;this.x=r.clientX;this.y=r.clientY}}]);return r}();var C=0;var E=new i;var o=E.q;var F=new r(E);var G=null;var I=null;var s;var a=[];for(var e=1;e<10;e++){a[e]=new Image;a[e].src="js/"+e+".png"}var f=Math.random()*50+100;var h=-50,u=0;function v(){o.strokeStyle="RGBA(255,255,255,0.7)";for(var t=0;t<s[0].length;t++){if(s[0][t].x>E.width||s[0][t].x==E.width/2||s[0][t].x==E.width/3||s[0][t].x==Math.random()*E.width||s[0][t].y>E.height){s[0][t].x=s[0][t].x-10;s[0][t].y=s[0][t].y-30}o.beginPath();o.arc(s[0][t].x,s[0][t].y,Math.random()*2+2,0,2*Math.PI);o.fill()}o.beginPath();o.moveTo(s[0][0].x,s[0][0].y);o.lineTo(s[0][1].x,s[0][1].y);o.moveTo(s[0][1].x,s[0][1].y);o.lineTo(s[0][2].x,s[0][2].y);o.moveTo(s[0][2].x,s[0][2].y);o.lineTo(s[0][5].x,s[0][5].y);o.lineTo(s[0][9].x,s[0][9].y);o.moveTo(s[0][2].x,s[0][2].y);o.lineTo(s[0][6].x,s[0][6].y);o.lineTo(s[0][10].x,s[0][10].y);o.moveTo(s[0][1].x,s[0][1].y);o.lineTo(s[0][3].x,s[0][3].y);o.lineTo(s[0][7].x,s[0][7].y);o.moveTo(s[0][1].x,s[0][1].y);o.lineTo(s[0][4].x,s[0][4].y);o.lineTo(s[0][8].x,s[0][8].y);o.stroke()}var l=0;function c(){requestAnimationFrame(c);o.clearRect(0,0,E.width,E.height);o.fillStyle="#eee";var t=true;var i=false;var r=undefined;try{for(var a=R[Symbol.iterator](),n;!(t=(n=a.next()).done);t=true){var e=n.value;s=[e.points];if(l<R.length){l+=1}else{l=0}s.id=l;v();e.update()}}catch(f){i=true;r=f}finally{try{if(!t&&a.u){a.u()}}finally{if(i){throw r}}}}var O={points:[[0,-4,function(t,i){this.y-=.06*t}],[0,-16,function(t,i){this.y-=.02*t*i}],[0,12,function(t,i){this.y+=.02*t*i}],[-12,0],[12,0],[-3,34,function(t,i){if(i>0){this.x+=.01*t;this.y-=.015*t}else{this.y+=.02*t}}],[3,34,function(t,i){if(i>0){this.y+=.02*t}else{this.x-=.01*t;this.y-=.015*t}}],[-28,0,function(t,i){this.x+=this.M*.035;this.y-=.001*t}],[28,0,function(t,i){this.x+=this.M*.035;this.y-=.001*t}],[-3,64,function(t,i){this.y+=.02*t;if(i>0){this.y-=.01*t}else{this.y+=.05*t}}],[3,64,function(t,i){this.y+=.02*t;if(i>0){this.y+=.05*t}else{this.y-=.01*t}}],[0,-.1]],links:[[3,7,12,.5],[1,3,24,.9],[1,0,18,.5],[0,11,60,.8],[5,9,16,.5],[2,5,32,.5],[1,2,50,1],[6,10,16,1.5],[2,6,32,1.5],[4,8,12,1.5],[1,4,24,1.5]]};var R=[];console.log(E.width);var y=Math.floor(E.width/150);for(var e=0;e<y;e++){var d=Math.random()*1;R.push(new t(e*360/7,.1,Math.random()*5+1,(e+1)*E.width/(y+1),E.height*C-200+d,O))}c();